flowchart TD
    A[Client Request] -->|MCP Protocol| B[Tool Manager]
    
    subgraph Analysis Engine
        B --> C[Code Parser]
        C --> D[Structure Analysis]
        C --> E[Complexity Analysis]
        C --> F[Dependency Analysis]
        
        D --> G[Function/Class Detection]
        D --> H[Method Analysis]
        
        E --> I[Cyclomatic Complexity]
        E --> J[Decision Points]
        
        F --> K[Import Analysis]
        F --> L[Module Dependencies]
    end
    
    subgraph Integration Layer
        M[File System Operations]
        N[Git Integration]
        O[Memory Management]
    end
    
    B --> M
    B --> N
    B --> O
    
    G & H & I & J & K & L --> P[Result Aggregator]
    M & N & O --> P
    
    P -->|MCP Response| Q[Client]
    
    style A fill:#f9f,stroke:#333,stroke-width:2px
    style Q fill:#9f9,stroke:#333,stroke-width:2px
    style B fill:#ff9,stroke:#333,stroke-width:2px